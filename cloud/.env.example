# IDPS Cloud Environment Configuration
# 复制此文件为 .env 并修改相应的配置

# Flask配置
SECRET_KEY=change-this-to-a-random-secret-key-in-production
DEBUG=False
TESTING=False

# MySQL配置
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=idps
MYSQL_PASSWORD=idps123456
MYSQL_DATABASE=idps

# ClickHouse配置
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=9000
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DATABASE=idps

# Redis配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT配置
JWT_SECRET_KEY=change-this-to-a-random-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRES=86400
JWT_REFRESH_TOKEN_EXPIRES=2592000

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_MAX_BYTES=104857600
LOG_BACKUP_COUNT=10

# CORS配置
CORS_ORIGINS=*

# 限流配置
RATELIMIT_DEFAULT=1000 per hour

# SSL/TLS配置
SSL_CA_CERT=/etc/idps/certs/ca.pem
SSL_SERVER_CERT=/etc/idps/certs/server.pem
SSL_SERVER_KEY=/etc/idps/certs/server.key
SSL_VERIFY_CLIENT=True

# 规则文件存储配置
RULE_STORAGE_TYPE=local
RULE_STORAGE_PATH=/var/lib/idps/rules

# MinIO/S3配置（可选）
MINIO_ENDPOINT=
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_BUCKET=idps-rules
MINIO_SECURE=True

# 数据库连接池配置
SQLALCHEMY_POOL_SIZE=10
SQLALCHEMY_POOL_TIMEOUT=30
SQLALCHEMY_POOL_RECYCLE=3600
SQLALCHEMY_MAX_OVERFLOW=20
